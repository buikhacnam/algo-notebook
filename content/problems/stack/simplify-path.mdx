---
title: Simplify Path
category: Stack
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/simplify-path)

</Callout>

## Description

Given a string <code>path</code>, which is an absolute path (starting with a slash <code>&#39;/&#39;</code>) to a file or directory in a Unix-style file system, convert it to the simplified canonical path.

In a Unix-style file system, a period <code>&#39;.&#39;</code> refers to the current directory, a double period <code>&#39;..&#39;</code> refers to the directory up a level, and any multiple consecutive slashes (i.e. <code>&#39;//&#39;</code>) are treated as a single slash <code>&#39;/&#39;</code>. For this problem, any other format of periods such as <code>&#39;...&#39;</code> are treated as file/directory names.

The canonical path should have the following format:

    - The path starts with a single slash <code>&#39;/&#39;</code>.
    - Any two directories are separated by a single slash <code>&#39;/&#39;</code>.
    - The path does not end with a trailing <code>&#39;/&#39;</code>.
    - The path only contains the directories on the path from the root directory to the target file or directory (i.e., no period <code>&#39;.&#39;</code> or double period <code>&#39;..&#39;</code>)

Return _the simplified canonical path_.

Example 1:

<br />
<pre className="overflow-x-auto">
	Input: path = &quot;/home/&quot; Output: &quot;/home&quot; Explanation: Note
	that there is no trailing slash after the last directory name.
</pre>

Example 2:

<br />
<pre className="overflow-x-auto">
	Input: path = &quot;/../&quot; Output: &quot;/&quot; Explanation: Going one
	level up from the root directory is a no-op, as the root level is the highest
	level you can go.
</pre>

Example 3:

<br />
<pre className="overflow-x-auto">
	Input: path = &quot;/home//foo/&quot; Output: &quot;/home/foo&quot;
	Explanation: In the canonical path, multiple consecutive slashes are replaced
	by a single one.
</pre>

Constraints:

    - <code>1 &lt;= path.length &lt;= 3000</code>
    - <code>path</code> consists of English letters, digits, period <code>&#39;.&#39;</code>, slash <code>&#39;/&#39;</code> or <code>&#39;_&#39;</code>.
    - <code>path</code> is a valid absolute Unix path.

## Solution

### Javascript

```javascript
/**
 * Stack
 * Time O(N) | Space O(N)
 * https://leetcode.com/problems/simplify-path
 * @param {string} path
 * @return {string}
 */
var simplifyPath = (path, slash = '/', stack = []) => {
	const paths = path.split(slash).filter(Boolean)

	for (const _path of paths) traversePath(_path, stack)

	return `${slash}${stack.join(slash)}`
}

const traversePath = (path, stack) => {
	if (canPush(path)) return stack.push(path)

	if (canPop(path, stack)) stack.pop()
}

const canPush = (path) => !(isCurrentDirectory(path) || isParentDirectory(path))

const canPop = (path, stack) => isParentDirectory(path) && !isEmpty(stack)

const isCurrentDirectory = (path) => path === '.'

const isParentDirectory = (path) => path === '..'

const isEmpty = ({ length }) => 0 === length
```

### Python

```python
class Solution:
    def simplifyPath(self, path: str) -> str:

        stack = []

        for i in path.split("/"):
            #  if i == "/" or i == '//', it becomes '' (empty string)

            if i == "..":
                if stack:
                    stack.pop()
            elif i == "." or i == '':
                # skip "." or an empty string
                continue
            else:
                stack.append(i)

        res = "/" + "/".join(stack)
        return res

```

### C++

```cpp
Solution will be updated soon
```

### Java

```java
class Solution {
    public String simplifyPath(String path) {
        Stack<String> stack = new Stack<>();
        StringBuilder curr = new StringBuilder();

        String newPath = path + "/";

        for(int i=0;i<newPath.length();i++) {
            char ch = newPath.charAt(i);

            if(ch == '/') {
                if(curr.toString().equals("..")) {
                    if(!stack.isEmpty()) {
                        stack.pop();
                    }
                } else if(!curr.isEmpty() && !curr.toString().equals(".")) {
                    stack.push(curr.toString());
                }

                curr = new StringBuilder();
            } else {
                curr.append(ch);
            }
        }

        curr = new StringBuilder();

        while(!stack.isEmpty()) {
            curr.insert(0, "/" + stack.pop());
        }

        if(curr.length() == 0) {
            curr.append('/');
        }

        return curr.toString();
    }
}

```
