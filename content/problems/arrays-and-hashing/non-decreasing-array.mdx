---
title: Non-decreasing Array
category: Arrays And Hashing
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/non-decreasing-array)

</Callout>

## Description
Given an array <code>nums</code> with <code>n</code> integers, your task is to check if it could become non-decreasing by modifying at most one element.

We define an array is non-decreasing if <code>nums[i] &lt;= nums[i + 1]</code> holds for every <code>i</code> (0-based) such that (<code>0 &lt;= i &lt;= n - 2</code>).

 
Example 1:

<br /><pre className="overflow-x-auto">
Input: nums = [4,2,3]
Output: true
Explanation: You could modify the first 4 to 1 to get a non-decreasing array.
</pre>

Example 2:

<br /><pre className="overflow-x-auto">
Input: nums = [4,2,1]
Output: false
Explanation: You cannot get a non-decreasing array by modifying at most one element.
</pre>

 
Constraints:


	- <code>n == nums.length</code>
	- <code>1 &lt;= n &lt;= 10<sup>4</sup></code>
	- <code>-10<sup>5</sup> &lt;= nums[i] &lt;= 10<sup>5</sup></code>



## Solution

### Javascript
```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
var checkPossibility = function (nums) {
    let changed = false;

    for (let i = 0; i < nums.length - 1; i++) {
        if (nums[i] <= nums[i + 1]) continue;
        if (changed) return false;

        if (i === 0 || nums[i + 1] >= nums[i - 1]) {
            nums[i] = nums[i + 1];
        } else {
            nums[i + 1] = nums[i];
        }

        changed = true;
    }

    return true;
};

```
### Python
```python
class Solution:
    def checkPossibility(self, nums):
        if len(nums) <= 2:
            return True
        changed = False
        for i, num in enumerate(nums):
            if i == len(nums) - 1 or num <= nums[i + 1]:
                continue
            if changed:
                return False
            if i == 0 or nums[i + 1] >= nums[i - 1]:
                nums[i] = nums[i + 1]
            else:
                nums[i + 1] = nums[i]
            changed = True
        return True

```
### C++
```cpp
class Solution {
public:
    bool checkPossibility(vector<int>& nums) {
        bool changed = false;

        for(int i = 0; i < nums.size() - 1; i++){
            if(nums[i] <= nums[i+1]){
                continue;
            }
            if(changed){
                return false;
            }
        
            if(i == 0 || nums[i+1] >= nums[i-1]){
                nums[i] = nums[i+1];
            }
            else{
                nums[i+1] = nums[i];
            }
            changed = true;
        }

        return true;
    }
};

```
### Java
```java
class Solution {
    public boolean checkPossibility(int[] nums) {
        boolean changed = false;

        for (int i = 0; i < nums.length - 1; i++) {
            if (nums[i] <= nums[i+1])
                continue;
            if (changed)
                return false;

            if (i == 0 || nums[i+1] >= nums[i-1])
                nums[i] = nums[i+1];
            else
                nums[i+1] = nums[i];
            
            changed = true;
        } 

        return true;
    }
}
```


