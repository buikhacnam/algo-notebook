---
title: Best Time to Buy and Sell Stock II
category: Arrays And Hashing
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii)

</Callout>

## Description

You are given an integer array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>i<sup>th</sup></code> day.

On each day, you may decide to buy and/or sell the stock. You can only hold at most one share of the stock at any time. However, you can buy it then immediately sell it on the same day.

Find and return _the maximum profit you can achieve_.

Example 1:

<br />

<pre className="overflow-x-auto">
	Input: prices = [7,1,5,3,6,4] Output: 7 Explanation: Buy on day 2 (price = 1)
	and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3)
	and sell on day 5 (price = 6), profit = 6-3 = 3. Total profit is 4 + 3 = 7.
</pre>

Example 2:

<br />

<pre className="overflow-x-auto">
	Input: prices = [1,2,3,4,5] Output: 4 Explanation: Buy on day 1 (price = 1)
	and sell on day 5 (price = 5), profit = 5-1 = 4. Total profit is 4.
</pre>

Example 3:

<br />

<pre className="overflow-x-auto">
	Input: prices = [7,6,4,3,1] Output: 0 Explanation: There is no way to make a
	positive profit, so we never buy the stock to achieve the maximum profit of 0.
</pre>

Constraints:

    - <code>1 &lt;= prices.length &lt;= 3 * 10<sup>4</sup></code>
    - <code>0 &lt;= prices[i] &lt;= 10<sup>4</sup></code>

## Solution

### Javascript

```javascript
// problem link https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii
// time coplexity O(n)

var maxProfit = function (prices) {
	let maxProfit = 0
	for (let i = 0; i < prices.length; i++) {
		if (prices[i] < prices[i + 1]) {
			maxProfit += prices[i + 1] - prices[i]
		}
	}

	return maxProfit
}
```

### Python

```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        max_profit = 0
        for i in range(1, len(prices)):
            if prices[i] > prices[i-1]:
                max_profit += prices[i] - prices[i-1]
        return max_profit

```

### C++

```cpp
 /*
    Approach:
    If stock price is going up tomorrow just buy it today and sell it tomorrow.

    Time complexity : O(n)
    Space complexity: O(1)

    n is number of days.
*/

class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int ans =0;

        // look into the next day and if you are making profit just buy it today.
        for(int i =1;i<prices.size();i++){
            if(prices[i]>prices[i-1]) ans += (prices[i]-prices[i-1]);
        }
        return ans;
    }
};
```

### Java

```java
class Solution {
    public int maxProfit(int[] prices) {
        int oldStockPrice = prices[0];
        int profit = 0;
        for(int i = 1; i<prices.length; i++){
            if(prices[i]<oldStockPrice){
                oldStockPrice = prices[i];
            }else{
                profit+=prices[i]-oldStockPrice;
                oldStockPrice = prices[i];
            }
        }
        return profit;
    }
}

```
