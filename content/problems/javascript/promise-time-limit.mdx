---
title: Promise Time Limit
category: Javascript
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/promise-time-limit)

</Callout>

## Description

Given an asynchronous function <code>fn</code> and a time <code>t</code> in milliseconds, return a new time limited version of the input function. <code>fn</code> takes arguments provided to the time limited function.

The time limited function should follow these rules:

    - If the <code>fn</code> completes within the time limit of <code>t</code> milliseconds, the time limited function should resolve with the result.
    - If the execution of the <code>fn</code> exceeds the time limit, the time limited function should reject with the string <code>&quot;Time Limit Exceeded&quot;</code>.

Example 1:

<br /><pre className="overflow-x-auto">
Input: 
fn = async (n) =&gt; { 
  await new Promise(res =&gt; setTimeout(res, 100)); 
  return n * n; 
}
inputs = [5]
t = 50
Output: {&quot;rejected&quot;:&quot;Time Limit Exceeded&quot;,&quot;time&quot;:50}
Explanation:
const limited = timeLimit(fn, t)
const start = performance.now()
let result;
try {
   const res = await limited(...inputs)
   result = {&quot;resolved&quot;: res, &quot;time&quot;: Math.floor(performance.now() - start)};
} catch (err) {
   result = {&quot;rejected&quot;: err, &quot;time&quot;: Math.floor(performance.now() - start)};
}
console.log(result) // Output

The provided function is set to resolve after 100ms. However, the time limit is set to 50ms. It rejects at t=50ms because the time limit was reached.

</pre>

Example 2:

<br /><pre className="overflow-x-auto">
Input: 
fn = async (n) =&gt; { 
  await new Promise(res =&gt; setTimeout(res, 100)); 
  return n * n; 
}
inputs = [5]
t = 150
Output: {&quot;resolved&quot;:25,&quot;time&quot;:100}
Explanation:
The function resolved 5 * 5 = 25 at t=100ms. The time limit is never reached.
</pre>

Example 3:

<br /><pre className="overflow-x-auto">
Input: 
fn = async (a, b) =&gt; { 
  await new Promise(res =&gt; setTimeout(res, 120)); 
  return a + b; 
}
inputs = [5,10]
t = 150
Output: {&quot;resolved&quot;:15,&quot;time&quot;:120}
Explanation:
​​​​The function resolved 5 + 10 = 15 at t=120ms. The time limit is never reached.
</pre>

Example 4:

<br /><pre className="overflow-x-auto">
Input: 
fn = async () =&gt; { 
  throw &quot;Error&quot;;
}
inputs = []
t = 1000
Output: {&quot;rejected&quot;:&quot;Error&quot;,&quot;time&quot;:0}
Explanation:
The function immediately throws an error.</pre>

Constraints:

    - <code>0 &lt;= inputs.length &lt;= 10</code>
    - <code>0 &lt;= t &lt;= 1000</code>
    - <code>fn returns a promise</code>

## Solution

### Javascript

```javascript
Solution will be updated soon
```

### Python

```python
Solution will be updated soon
```

### C++

```cpp
Solution will be updated soon
```

### Java

```java
Solution will be updated soon
```
