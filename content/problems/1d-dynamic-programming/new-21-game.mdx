---
title: New 21 Game
category: 1d Dynamic Programming
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/new-21-game)

</Callout>

## Description
Alice plays the following game, loosely based on the card game &quot;21&quot;.

Alice starts with <code>0</code> points and draws numbers while she has less than <code>k</code> points. During each draw, she gains an integer number of points randomly from the range <code>[1, maxPts]</code>, where <code>maxPts</code> is an integer. Each draw is independent and the outcomes have equal probabilities.

Alice stops drawing numbers when she gets <code>k</code> or more points.

Return the probability that Alice has <code>n</code> or fewer points.

Answers within <code>10<sup>-5</sup></code> of the actual answer are considered accepted.

 
Example 1:

<br /><pre className="overflow-x-auto">
Input: n = 10, k = 1, maxPts = 10
Output: 1.00000
Explanation: Alice gets a single card, then stops.
</pre>

Example 2:

<br /><pre className="overflow-x-auto">
Input: n = 6, k = 1, maxPts = 10
Output: 0.60000
Explanation: Alice gets a single card, then stops.
In 6 out of 10 possibilities, she is at or below 6 points.
</pre>

Example 3:

<br /><pre className="overflow-x-auto">
Input: n = 21, k = 17, maxPts = 10
Output: 0.73278
</pre>

 
Constraints:


	- <code>0 &lt;= k &lt;= n &lt;= 10<sup>4</sup></code>
	- <code>1 &lt;= maxPts &lt;= 10<sup>4</sup></code>



## Solution

### Javascript
```javascript
/**
 * https://leetcode.com/problems/new-21-game/
 * @param {number} n
 * @param {number} k
 * @param {number} maxPts
 * @return {number}
 */
var new21Game = function(n, k, maxPts) {
  if (k == 0) {
    return 1
  }  

  let windowSum = 0
  for (let i = k; i < k + maxPts; i++) {
    if (i <= n) {
      windowSum += 1
    }
  }

  let dp = {}
  for (let i = k - 1; i >= 0; i--) {
    dp[i] = windowSum / maxPts

    let remove = 0
    if (i + maxPts <= n) {
      remove = dp[i + maxPts] || 1
    }

    windowSum += dp[i]
    windowSum -= remove
  }

  return dp[0]
};
```
### Python
```python
404: Not Found
```
### C++
```cpp
404: Not Found
```
### Java
```java
404: Not Found
```


