---
title: Find the Longest Valid Obstacle Course at Each Position
category: 1d Dynamic Programming
difficulty: Hard
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/find-the-longest-valid-obstacle-course-at-each-position)

</Callout>

## Description
You want to build some obstacle courses. You are given a 0-indexed integer array <code>obstacles</code> of length <code>n</code>, where <code>obstacles[i]</code> describes the height of the <code>i<sup>th</sup></code> obstacle.

For every index <code>i</code> between <code>0</code> and <code>n - 1</code> (inclusive), find the length of the longest obstacle course in <code>obstacles</code> such that:


	- You choose any number of obstacles between <code>0</code> and <code>i</code> inclusive.
	- You must include the <code>i<sup>th</sup></code> obstacle in the course.
	- You must put the chosen obstacles in the same order as they appear in <code>obstacles</code>.
	- Every obstacle (except the first) is taller than or the same height as the obstacle immediately before it.


Return *an array* <code>ans</code> *of length* <code>n</code>, *where* <code>ans[i]</code> *is the length of the longest obstacle course for index* <code>i</code>* as described above*.

 
Example 1:

<br /><pre className="overflow-x-auto">
Input: obstacles = [1,2,3,2]
Output: [1,2,3,3]
Explanation: The longest valid obstacle course at each position is:
- i = 0: [<u>1</u>], [1] has length 1.
- i = 1: [<u>1</u>,<u>2</u>], [1,2] has length 2.
- i = 2: [<u>1</u>,<u>2</u>,<u>3</u>], [1,2,3] has length 3.
- i = 3: [<u>1</u>,<u>2</u>,3,<u>2</u>], [1,2,2] has length 3.
</pre>

Example 2:

<br /><pre className="overflow-x-auto">
Input: obstacles = [2,2,1]
Output: [1,2,1]
Explanation: The longest valid obstacle course at each position is:
- i = 0: [<u>2</u>], [2] has length 1.
- i = 1: [<u>2</u>,<u>2</u>], [2,2] has length 2.
- i = 2: [2,2,<u>1</u>], [1] has length 1.
</pre>

Example 3:

<br /><pre className="overflow-x-auto">
Input: obstacles = [3,1,5,6,4,2]
Output: [1,1,2,3,2,2]
Explanation: The longest valid obstacle course at each position is:
- i = 0: [<u>3</u>], [3] has length 1.
- i = 1: [3,<u>1</u>], [1] has length 1.
- i = 2: [<u>3</u>,1,<u>5</u>], [3,5] has length 2. [1,5] is also valid.
- i = 3: [<u>3</u>,1,<u>5</u>,<u>6</u>], [3,5,6] has length 3. [1,5,6] is also valid.
- i = 4: [<u>3</u>,1,5,6,<u>4</u>], [3,4] has length 2. [1,4] is also valid.
- i = 5: [3,<u>1</u>,5,6,4,<u>2</u>], [1,2] has length 2.
</pre>

 
Constraints:


	- <code>n == obstacles.length</code>
	- <code>1 &lt;= n &lt;= 10<sup>5</sup></code>
	- <code>1 &lt;= obstacles[i] &lt;= 10<sup>7</sup></code>



## Solution

### Javascript
```javascript
404: Not Found
```
### Python
```python
404: Not Found
```
### C++
```cpp
404: Not Found
```
### Java
```java
404: Not Found
```


