---
title: Successful Pairs of Spells and Potions
category: Binary Search
difficulty: Medium
---

<Callout>

[Leetcode Link](https://leetcode.com/problems/successful-pairs-of-spells-and-potions)

</Callout>

## Description

You are given two positive integer arrays <code>spells</code> and <code>potions</code>, of length <code>n</code> and <code>m</code> respectively, where <code>spells[i]</code> represents the strength of the <code>i<sup>th</sup></code> spell and <code>potions[j]</code> represents the strength of the <code>j<sup>th</sup></code> potion.

You are also given an integer <code>success</code>. A spell and potion pair is considered successful if the product of their strengths is at least <code>success</code>.

Return _an integer array _<code>pairs</code>_ of length _<code>n</code>_ where _<code>pairs[i]</code>_ is the number of potions that will form a successful pair with the _<code>i<sup>th</sup></code>_ spell._

Example 1:

<br />
<pre className="overflow-x-auto">
	Input: spells = [5,1,3], potions = [1,2,3,4,5], success = 7 Output: [4,0,3]
	Explanation: - 0<sup>th</sup> spell: 5 * [1,2,3,4,5] = [5,<u>10</u>,<u>15</u>,
	<u>20</u>,<u>25</u>]. 4 pairs are successful. - 1<sup>st</sup> spell: 1 *
	[1,2,3,4,5] = [1,2,3,4,5]. 0 pairs are successful. - 2<sup>nd</sup> spell: 3 *
	[1,2,3,4,5] = [3,6,<u>9</u>,<u>12</u>,<u>15</u>]. 3 pairs are successful.
	Thus, [4,0,3] is returned.
</pre>

Example 2:

<br />
<pre className="overflow-x-auto">
	Input: spells = [3,1,2], potions = [8,5,8], success = 16 Output: [2,0,2]
	Explanation: - 0<sup>th</sup> spell: 3 * [8,5,8] = [<u>24</u>,15,<u>24</u>]. 2
	pairs are successful. - 1<sup>st</sup> spell: 1 * [8,5,8] = [8,5,8]. 0 pairs
	are successful. - 2<sup>nd</sup> spell: 2 * [8,5,8] = [<u>16</u>,10,<u>16</u>
	]. 2 pairs are successful. Thus, [2,0,2] is returned.
</pre>

Constraints:

    - <code>n == spells.length</code>
    - <code>m == potions.length</code>
    - <code>1 &lt;= n, m &lt;= 10<sup>5</sup></code>
    - <code>1 &lt;= spells[i], potions[i] &lt;= 10<sup>5</sup></code>
    - <code>1 &lt;= success &lt;= 10<sup>10</sup></code>

## Solution

### Javascript

```javascript
Solution will be updated soon
```

### Python

```python
class Solution:
    def successfulPairs(self, spells: List[int], potions: List[int], success: int) -> List[int]:
        pairs = []
        potions.sort()
        n = len(potions)

        for i in range(len(spells)):
            l, r = 0, len(potions) - 1

            while l <= r:
                m = (l + r) // 2
                if spells[i] * potions[m] >= success:
                    r = m - 1
                else:
                    l = m + 1
            if l < len(potions):
                pairs.append(n - l)
            else:
                pairs.append(0)

        return pairs



```

### C++

```cpp
// Time: O(N * logN)
// Space: O(N)

class Solution {
public:
    vector<int> successfulPairs(vector<int>& spells, vector<int>& potions, long long success) {
        sort(potions.begin(), potions.end());

        int n = spells.size();
        int m = potions.size();
        vector<int> pairs(n);

        for(int i = 0; i < n; i++) {
            int spell = spells[i];

            int start = 0, end = m - 1;
            int curr;

            while(start <= end) {
                curr = start + (end-start)/2;
                long long strength = (long long)potions[curr] * (long long)spell;
                if(strength < success) {
                    start = curr + 1;
                }
                else {
                    end = curr - 1;
                }
            }
            pairs[i] = m - start;
        }

        return pairs;
    }
};

```

### Java

```java
Solution will be updated soon
```
